# C++实现集群聊天服务器
## 技术栈
 - **Json**序列化和反序列化
 - **muduo**网络库开发
 - **Nginx**源码编译安装和环境部署
 - **Nginx**的tcp负载均衡配置
 - **Redis**缓存服务器编程实践
 - 基于**发布-订阅**的服务器中间件**Redis**消息队列编程实践
 - **MySQL**数据库编程
 - **CMake**构建编译环境
 - **Github**托管项目
## 项目需求
 - 客户端新用户注册
 - 客户端用户登陆
 - 添加好友和添加群组
 - 好友聊天
 - 群组聊天
 - 离线消息
 - Nginx配置tcp负载均衡
 - 集群聊天系统支持客户端跨服务器通信
## 项目目标
 - 掌握服务器的网络I/O模块，业务模块，数据模块分层的设计思想
 - 掌握**C++ muduo**网络库的编程以及实现原理
 - 掌握**Json**的编程应用
 - 掌握**Nginx**配置部署tcp负载均衡器的应用以及原理
 - 掌握服务器中间件的应用场景和基于**发布-订阅**的**Redis**编程实践以及应用原理
 - 掌握**CMake**构建自动化编译环境
 - 掌握**Github**管理项目
## 开发环境
 - **Ubuntu Linux**环境
 - 安装**Json**开发库
 - 安装**boost + muduo**网络库开发环境
 - 安装**Redis**环境
 - 安装**MySQL**数据库环境
 - 安装**Nginx**环境
 - 安装**CMake**环境
## Json
Json是一种轻量级的数据交换格式（也叫数据序列化方式）。Json采用完全独立于编程语言的文本格式来存储和表示数据。简洁和清晰的层次结构使得 Json 成为理想的数据交换语言。 易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。
 - 简单直观，独立于语言和平台
 - 整个代码包含一个头文件 json.hpp 即可，没有依赖关系，使用的时候只用包含一个头文件
 - 使用 C++ 11 标准编写，和 STL 容器差不多，可以和 STL 相互转换
### Json 和 protubuf 的对比
1. 数据大小和速度：
	- Protobuf: 由于 Protobuf 是二进制格式，因此它生成的数据通常比 Json 小很多，这使得 Protobuf 在网络传输中更加高效。同时，Protobuf 的解析和序列化速度也比 Json 快
	- Json: Json 是文本格式，它生成的数据通常比 Protobuf 大，且解析和序列化速度较慢
2. 可读性与易用性：
	- Protobuf: Protobuf 是二进制格式，人类无法直接阅读。此外，使用 Protobuf 需要预先定义数据结构(.proto 文件)，这增加了使用的复杂性
	- Json: Json 是文本格式，人类可以直接阅读和编辑。此外，JSON 的数据结构可以在运行时动态定义，这使得 JSON 更易于使用
3. 类型安全和版本兼容：
	- Protobuf: Protobuf 支持静态类型检查，这可以在编译时捕获类型错误。此外，Protobuf 设计了一套版本兼容性机制，可以在不破坏旧版本的情况下添加新的字段
	- Json: Json 是动态类型的，无法在编译时捕获类型错误。此外，JSON 没有内置的版本兼容性机制，如果数据结构发生变化，可能需要修改代码以适应新的结构
4. 支持的语言：
	- Protobuf: Protobuf 提供了多种语言的 Protobuf 库，包括 C++、Java、Python、Golang 等
	- Json: Json 几乎所有的编程语言都支持Json
5. 学习成本：
	- Protobuf: Protobuf 的学习曲线相对较陡。你需要理解 Protobuf 的语法，学习如何编写 .proto 文件，并且需要了解如何使用 Protobuf 编译器生成代码。此外，你还需要理解 Protobuf 的版本兼容性规则
	- Json: Json 的学习曲线相对较平。Json 的语法非常简单，大多数人可以在很短的时间内掌握。此外，几乎所有的编程语言都内置了 Json 的支持，你不需要安装任何额外的库就可以开始使用 Json
6. 使用成本：
	- Protobuf: Protobuf 的使用成本相对较高。首先，你需要为每个数据结构编写一个 .proto 文件，然后使用 Protobuf 编译器生成代码。此外，如果你的数据结构发生了变化，你需要更新 .proto 文件并重新生成代码。这些步骤都需要额外的时间和工作
	- Json: Json 的使用成本相对较低。你可以直接在代码中定义数据结构，无需任何额外的步骤。此外，如果你的数据结构发生了变化，你只需要更新你的代码，无需任何其他操作

总的来说，Protobuf 和 Json 各有优劣，适用于不同的场景。如果你需要高效的数据传输和严格的类型检查，那么 Protobuf 可能是一个好选择。如果你需要易于使用和人类可读的数据格式，那么 Json 可能更适合你
